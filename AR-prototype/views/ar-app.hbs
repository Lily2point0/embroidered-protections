<!DOCTYPE html>
<html>
<head>
	<title>Embroidered Protection | AR Scan</title>
	<script src="./lib/aframe-main.min.js"></script>
	<script src="./lib/aframe-ar-nft.js"></script>

	<style>
		.arjs-loader {
			height: 100%;
			width: 100%;
			position: absolute;
			top: 0;
			left: 0;
			background-color: rgba(0, 0, 0, 0.8);
			z-index: 9999;
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.arjs-loader div {
			text-align: center;
			font-size: 1.25em;
			color: white;
		}
	</style>
	<script>
		AFRAME.registerComponent('markerhandler', {
			init: function () {
				this.el.addEventListener('markerFound', () => {
					alert(`You're looking at the ${this.el.id} marker`);
				// redirect to custom URL
				// window.location = 'https://github.com/AR-js-org/AR.js';
				});
			}
		});
	</script>
</head>

<body style="margin : 0px; overflow: hidden;">
	<!-- minimal loader shown until image descriptors are loaded -->
	<div class="arjs-loader">
		<div>Loading, please wait...</div>
	</div>
	<a-scene
		vr-mode-ui="enabled: false;"
		renderer="logarithmicDepthBuffer: true;"
		embedded
		arjs="trackingMethod: best; sourceType: webcam;debugUIEnabled: {{ debug }};"
	>
		<!-- we use cors proxy to avoid cross-origin problems ATTENTION! you need to set up your server -->
		<a-nft
			markerhandler
			type="nft"
			url="./markers/lifetree/lifetree"
			smooth="true"
			smoothCount="10"
			smoothTolerance=".01"
			smoothThreshold="5"
			id="LifeTree"
		></a-nft>
		<a-nft
			markerhandler
			type="nft"
			url="./markers/fruit/fruit"
			smooth="true"
			smoothCount="10"
			smoothTolerance=".01"
			smoothThreshold="5"
			id="Fruit"
		></a-nft>
		<a-nft
			markerhandler
			type="nft"
			url="./markers/woman/woman"
			smooth="true"
			smoothCount="10"
			smoothTolerance=".01"
			smoothThreshold="5"
			id="Womanhood"
		></a-nft>
		<a-nft
			markerhandler
			type="nft"
			url="./markers/plenty/plenty"
			smooth="true"
			smoothCount="10"
			smoothTolerance=".01"
			smoothThreshold="5"
			id="Plentifulness"
		></a-nft>
		<a-entity camera></a-entity>
	</a-scene>
</body>
</html>